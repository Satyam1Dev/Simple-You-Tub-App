<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
       #results{
           display: grid;
        grid-template-columns: repeat(4,1fr);
        grid-template-rows: auto;
        gap: 20px;

        }
       #container> div {
    text-align: center;
    margin: 20px;
}
input#query {
    border: solid 1px black;
    padding: 10px;
    background-color: #efefef;
    color: #000000;
    font-size: 17px;
}


button {
   
    padding: 9px;
    font-size: 17px;
    width: 10%;
    cursor: pointer;
}
    </style>
</head>
<body>
   
    
   <div id="container">
    <div><input type="text" id="query">
        <button onclick="search()">Search</button>
    </div>

    <div id="results"></div>
   </div> 
</body>
</html>

<script>
   let api_key ="AIzaSyCXMhU4JkfTK-8mFY8cbEvuQsd2Byl2-nA"
  //https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=20&q=thor&key=[YOUR_API_KEY]
 
  let search = async (q) =>{  
      let query = document.getElementById("query").value;
     let url =`https://youtube.googleapis.com/youtube/v3/search?part=snippet&q=${query}&regionCode=in&key=${api_key}`
      let res = await fetch(url);
//    console.log(res)
 let data = await res.json()
  append(data.items)
 console.log(data)
  }

  let append = (data) => {
  let container = document.getElementById("results");

  // console.log(data);
  // data.forEach((el) => { el.id.videoId/ el.snippet.title
  data.forEach(({ id: { videoId }, snippet: { title, thumbnails } }) => {
    let div = document.createElement("div");
    let iframe = document.createElement("iframe");
    iframe.src = `https://www.youtube.com/embed/${videoId}`;
    iframe.allow = "fullscreen";
    let h3 = document.createElement("h3");
    h3.innerText = title;

    div.append(iframe, h3);

    let video = {
      title,
      videoId,
    };

    div.onclick = () => {
      playVideo(video);
    };

    container.append(div);
  });
};

let playVideo = (video) => {
 localStorage.setItem("video", JSON.stringify(video));
  window.location.href = "video.html";
};
  
</script>